define(["jquery","core/notification","core/str"],function(a,b,c){var d=function(d,e){var f,g=new Date(1e3*d),h=new Date(1e3*e);0!=a("[name=minute_start]").length&&(a("[name=minute_start]")[0].selectedIndex=g.getMinutes(),a("[name=hour_start]")[0].selectedIndex=g.getHours(),a("[name=day_start]")[0].selectedIndex=g.getDate()-1,a("[name=month_start]")[0].selectedIndex=g.getMonth(),a("[name=year_start]")[0].selectedIndex=g.getFullYear()-2e3,a("[name=minute_end]")[0].selectedIndex=h.getMinutes(),a("[name=hour_end]")[0].selectedIndex=h.getHours(),a("[name=day_end]")[0].selectedIndex=h.getDate()-1,a("[name=month_end]")[0].selectedIndex=h.getMonth(),a("[name=year_end]")[0].selectedIndex=h.getFullYear()-2e3,a("#reactivate").length>0&&(f=!a("[name=minute_end]")[0].disabled,a(document).on("change","#reactivate",function(){this.checked?c.get_strings([{key:"confirm"},{key:"content_confirm_reactivate",component:"block_evasys_sync"},{key:"yes"},{key:"no"},{key:"requestagain",component:"block_evasys_sync"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a("[name=minute_start]")[0].disabled=!1,a("[name=hour_start]")[0].disabled=!1,a("[name=day_start]")[0].disabled=!1,a("[name=month_start]")[0].disabled=!1,a("[name=year_start]")[0].disabled=!1,f||(a("[name=minute_end]")[0].disabled=!1,a("[name=hour_end]")[0].disabled=!1,a("[name=day_end]")[0].disabled=!1,a("[name=month_end]")[0].disabled=!1,a("[name=year_end]")[0].disabled=!1),a("#direct_invite").length>0&&a("#direct_invite").prop("disabled",!1),a("#only_end").length>0&&a("#only_end").prop("value",!1),a("#evasyssubmitbutton").length>0&&(a("#evasyssubmitbutton").prop("disabled",!1),a("#evasyssubmitbutton").val(c[4]))},function(){a("#reactivate").prop("checked",!1)})}):(a("[name=minute_start]")[0].disabled=!0,a("[name=hour_start]")[0].disabled=!0,a("[name=day_start]")[0].disabled=!0,a("[name=month_start]")[0].disabled=!0,a("[name=year_start]")[0].disabled=!0,f||(a("[name=minute_end]")[0].disabled=!0,a("[name=hour_end]")[0].disabled=!0,a("[name=day_end]")[0].disabled=!0,a("[name=month_end]")[0].disabled=!0,a("[name=year_end]")[0].disabled=!0),a("#direct_invite").length>0&&a("#direct_invite").prop("disabled",!0),a("#only_end").length>0&&a("#only_end").prop("value",!0),a("#evasyssubmitbutton").length>0&&(f||a("#evasyssubmitbutton").prop("disabled",!0),c.get_strings([{key:"planorstartevaluation",component:"block_evasys_sync"},{key:"invitestudents",component:"block_evasys_sync"}]).done(function(b){a("#direct_invite").length>0?a("#evasyssubmitbutton").val(b[0]):a("#evasyssubmitbutton").val(b[1])})))})),a("#direct_invite").length>0&&a(document).on("change","#direct_invite",function(){this.checked?(a("[name=minute_start]")[0].disabled=!0,a("[name=hour_start]")[0].disabled=!0,a("[name=day_start]")[0].disabled=!0,a("[name=month_start]")[0].disabled=!0,a("[name=year_start]")[0].disabled=!0):(a("[name=minute_start]")[0].disabled=!1,a("[name=hour_start]")[0].disabled=!1,a("[name=day_start]")[0].disabled=!1,a("[name=month_start]")[0].disabled=!1,a("[name=year_start]")[0].disabled=!1)}))};return{init:d}});